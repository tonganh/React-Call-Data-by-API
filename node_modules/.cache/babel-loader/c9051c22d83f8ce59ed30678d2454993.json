{"ast":null,"code":"var _jsxFileName = \"/home/tonganh/intern/React/react-api/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport UserTable from './UserTable';\nimport AddUserForm from './AddUserForm';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n});\n\nconst App = () => {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      const res = await api.get(\"/users\");\n      console.log(\"res\", res.data);\n      setUsers(res.data);\n    }\n\n    fetchData();\n  }, []);\n  const intialFormState = {\n    id: '',\n    name: '',\n    email: '',\n    phone: ''\n  }; // Mang trang thai hien tai??\n\n  const [currentUser, setCurrentUser] = useState(intialFormState); // Cai nay cho chuc nang edit\n\n  const editRow = user => {\n    setCurrentUser(user);\n  }; // const [users, setUsers] = useState(data)\n\n\n  const addUser = user => {\n    user.id = users.length + 1;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = id => {\n    setUsers(users.filter(user => user.id !== id)); // User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n  };\n\n  const updateUser = (id, updateUser) => {\n    setUsers(users.map(user => user.id === id ? updateUser : user));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container parrent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, \"CRUD App with Hooks\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Add user\"), /*#__PURE__*/React.createElement(AddUserForm, {\n    addUser: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, \"View users\"), /*#__PURE__*/React.createElement(UserTable, {\n    users: users,\n    deleteUser: deleteUser,\n    editRow: editRow,\n    updateUser: updateUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/tonganh/intern/React/react-api/src/App.js"],"names":["React","useEffect","useState","UserTable","AddUserForm","axios","api","create","baseURL","App","users","setUsers","fetchData","res","get","console","log","data","intialFormState","id","name","email","phone","currentUser","setCurrentUser","editRow","user","addUser","length","deleteUser","filter","updateUser","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport UserTable from './UserTable'\nimport AddUserForm from './AddUserForm'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\n\nconst api = axios.create({\n\tbaseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n})\n\nconst App = () => {\n\tconst [users, setUsers] = useState([])\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst res = await api.get(\"/users\")\n\t\t\tconsole.log(\"res\", res.data);\n\t\t\tsetUsers(res.data)\n\t\t}\n\t\tfetchData()\n\t}, [])\n\n\tconst intialFormState = { id: '', name: '', email: '', phone: '' }\n\t// Mang trang thai hien tai??\n\tconst [currentUser, setCurrentUser] = useState(intialFormState)\n\t// Cai nay cho chuc nang edit\n\tconst editRow = (user) => {\n\t\tsetCurrentUser(user)\n\t}\n\t// const [users, setUsers] = useState(data)\n\tconst addUser = (user) => {\n\t\tuser.id = users.length + 1\n\t\tsetUsers([...users, user])\n\t}\n\tconst deleteUser = (id) => {\n\t\tsetUsers(users.filter((user) => user.id !== id))\n\t\t// User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n\t}\n\tconst updateUser = (id, updateUser) => {\n\t\tsetUsers(users.map((user) => (user.id === id ? updateUser : user)))\n\t}\n\n\treturn (\n\t\t<div className=\"container parrent\">\n\t\t\t<h1 className=\"text-center\">CRUD App with Hooks</h1>\n\t\t\t<div className=\"d-flex flex-row\">\n\t\t\t\t<div className=\"col-md-2\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\tAdd user\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<AddUserForm addUser={addUser} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-10\">\n\t\t\t\t\t<h2>View users</h2>\n\t\t\t\t\t{/* Phan bang mac dinh */}\n\t\t\t\t\t<UserTable users={users} deleteUser={deleteUser} editRow={editRow} updateUser={updateUser} />\n\t\t\t\t\t{/* users o day chinh la mang cac phan tu hien tai.\n                        deleteUser, editUSer la cac ham se can chay tuong\n          */}\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</div >\n\t)\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}