{"ast":null,"code":"var _jsxFileName = \"/home/tonganh/intern/React/react-api/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport UserTable from './UserTable';\nimport AddUserForm from './AddUserForm';\nimport EditUserForm from './EditUserForm';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n});\n\nconst App = () => {\n  const userData = [{\n    id: 1,\n    name: 'Tangia',\n    email: 'tangiablalba'\n  }, {\n    id: 2,\n    name: 'Tong NgocAnh',\n    email: 'anh.tn184040'\n  }, {\n    id: 3,\n    name: 'Vu Thi Mai Nguyet',\n    email: 'lele'\n  }];\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      const res = await api.get(\"/users\");\n      console.log(\"res\", res.data);\n      setUsers(res.data);\n    }\n\n    fetchData();\n  }, []);\n  const [editing, setEditing] = useState(false);\n  const intialFormState = {\n    id: '',\n    name: '',\n    email: '',\n    phone: ''\n  }; // Mang trang thai hien tai??\n\n  const [currentUser, setCurrentUser] = useState(intialFormState); // Cai nay cho chuc nang edit\n\n  const editRow = user => {\n    setEditing(true);\n    setCurrentUser(user);\n  }; // const [users, setUsers] = useState(data)\n\n\n  const addUser = user => {\n    user.id = users.length + 1;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = id => {\n    setUsers(users.filter(user => user.id !== id)); // User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n  };\n\n  const updateUser = (id, updateUser) => {\n    setEditing(false);\n    setUsers(users.map(user => user.id === id ? updateUser : user));\n  }; // const handleRowUpdate=(newData,oldData,resolve)=>{\n  //     let errorList=[]\n  //     if(newData.name=='')\n  //     {\n  //         errorList.push('Please enter name')\n  //     }\n  //     if(newData.phone=='')\n  //     {\n  //         errorList.push('Please enter phone number')\n  //     }\n  //     if(newData.email=='')\n  //     {\n  //         errorList.push('Please enter valid email')\n  //     }\n  //     if(errorList.length<1)\n  //     {\n  //         api.put(\"/users/\"+newData.id,newData)\n  //         .then(res=>{\n  //             const userUpdate=[...users]\n  //             constz\n  //         })\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container parrent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"CRUD App with Hooks\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, editing ?\n  /*#__PURE__*/\n  //Return true ->  cho phep edit \n  React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Edit user\"), /*#__PURE__*/React.createElement(EditUserForm, {\n    setEditing: setEditing,\n    currentUser: currentUser,\n    updateUser: updateUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Add user\"), /*#__PURE__*/React.createElement(AddUserForm, {\n    addUser: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"View users\"), /*#__PURE__*/React.createElement(UserTable, {\n    users: users,\n    deleteUser: deleteUser,\n    editRow: editRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/tonganh/intern/React/react-api/src/App.js"],"names":["React","useEffect","useState","UserTable","AddUserForm","EditUserForm","axios","api","create","baseURL","App","userData","id","name","email","users","setUsers","fetchData","res","get","console","log","data","editing","setEditing","intialFormState","phone","currentUser","setCurrentUser","editRow","user","addUser","length","deleteUser","filter","updateUser","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport UserTable from './UserTable'\nimport AddUserForm from './AddUserForm'\nimport EditUserForm from './EditUserForm'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\n\nconst api = axios.create({\n  baseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n})\nconst App = () => {\n  const userData = [\n    { id: 1, name: 'Tangia', email: 'tangiablalba' },\n    { id: 2, name: 'Tong NgocAnh', email: 'anh.tn184040' },\n    { id: 3, name: 'Vu Thi Mai Nguyet', email: 'lele' },\n\n  ]\n\n  const [users, setUsers] = useState([])\n  useEffect(() => {\n    async function fetchData() {\n      const res = await api.get(\"/users\")\n      console.log(\"res\", res.data);\n      setUsers(res.data)\n    }\n    fetchData()\n  }, [])\n\n  const [editing, setEditing] = useState(false)\n  const intialFormState = { id: '', name: '', email: '', phone: '' }\n  // Mang trang thai hien tai??\n  const [currentUser, setCurrentUser] = useState(intialFormState)\n  // Cai nay cho chuc nang edit\n  const editRow = (user) => {\n    setEditing(true)\n    setCurrentUser(user)\n  }\n  // const [users, setUsers] = useState(data)\n  const addUser = (user) => {\n    user.id = users.length + 1\n    setUsers([...users, user])\n  }\n  const deleteUser = (id) => {\n    setUsers(users.filter((user) => user.id !== id))\n    // User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n  }\n  const updateUser = (id, updateUser) => {\n    setEditing(false)\n    setUsers(users.map((user) => (user.id === id ? updateUser : user)))\n  }\n  // const handleRowUpdate=(newData,oldData,resolve)=>{\n  //     let errorList=[]\n  //     if(newData.name=='')\n  //     {\n  //         errorList.push('Please enter name')\n  //     }\n  //     if(newData.phone=='')\n  //     {\n  //         errorList.push('Please enter phone number')\n  //     }\n  //     if(newData.email=='')\n  //     {\n  //         errorList.push('Please enter valid email')\n  //     }\n  //     if(errorList.length<1)\n  //     {\n  //         api.put(\"/users/\"+newData.id,newData)\n  //         .then(res=>{\n  //             const userUpdate=[...users]\n  //             constz\n  //         })\n  //     }\n  // }\n  return (\n    <div className=\"container parrent\">\n      <h1 className=\"text-center\">CRUD App with Hooks</h1>\n      <div className=\"d-flex\">\n        <div className=\"mb-2\">\n          {editing ? (\n            //Return true ->  cho phep edit \n            <div>\n              <h2>Edit user</h2>\n              <EditUserForm setEditing={setEditing} currentUser={currentUser} updateUser={updateUser} />\n            </div>\n          ) : (\n              <div>\n                <h2>\n                  Add user\n                            </h2>\n                <AddUserForm addUser={addUser} />\n              </div>\n            )\n          }\n        </div>\n        <div >\n          <h2>View users</h2>\n          {/* Phan bang mac dinh */}\n          <UserTable users={users} deleteUser={deleteUser} editRow={editRow} />\n          {/* users o day chinh la mang cac phan tu hien tai.\n                        deleteUser, editUSer la cac ham se can chay tuong\n                        \n                    */}\n        </div>\n\n      </div>\n\n    </div >\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}