{"ast":null,"code":"var _jsxFileName = \"/home/tonganh/intern/React/react-api/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport UserTable from './UserTable';\nimport AddUserForm from './AddUserForm';\nimport EditUserForm from './EditUserForm';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n});\n\nconst App = () => {\n  const userData = [{\n    id: 1,\n    name: 'Tangia',\n    email: 'tangiablalba'\n  }, {\n    id: 2,\n    name: 'Tong NgocAnh',\n    email: 'anh.tn184040'\n  }, {\n    id: 3,\n    name: 'Vu Thi Mai Nguyet',\n    email: 'lele'\n  }];\n  const [data, setData] = useState([]); // useEffect(()=>\n  // {\n  //     api.get(\"./users\").then(res=>{\n  //         setData(res.data)\n  //         console.log(res.data);\n  //     })\n  // },[])\n\n  const [editing, setEditing] = useState(false);\n  const intialFormState = {\n    id: '',\n    name: '',\n    email: ''\n  }; // Mang trang thai hien tai??\n\n  const [currentUser, setCurrentUser] = useState(intialFormState); // Cai nay cho chuc nang edit\n\n  const editRow = user => {\n    setEditing(true);\n    setCurrentUser({\n      id: user.id,\n      name: user.name,\n      email: user.email\n    });\n  };\n\n  const [users, setUsers] = useState(data);\n\n  const addUser = user => {\n    users.id = users.length + 1;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = id => {\n    setUsers(users.filter(user => user.id !== id)); // User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n  };\n\n  const updateUser = (id, updateUser) => {\n    setEditing(false);\n    setUsers(users.map(user => user.id === id ? updateUser : user));\n  };\n\n  const functionGetData = () => {\n    useEffect(() => {\n      async function test() {\n        await api.get(\"./users\").then(res => {\n          setData(res.data);\n          console.log(res.data);\n        });\n      }\n\n      test();\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container parrent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"CRUD App with Hooks\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"View users\"), /*#__PURE__*/React.createElement(UserTable, {\n      users: users,\n      deleteUser: deleteUser,\n      editRow: editRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-med\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, editing ?\n    /*#__PURE__*/\n    //Return true ->  cho phep edit \n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, \"Edit user\"), /*#__PURE__*/React.createElement(EditUserForm, {\n      setEditing: setEditing,\n      currentUser: currentUser,\n      updateUser: updateUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, \"Add user\"), /*#__PURE__*/React.createElement(AddUserForm, {\n      addUser: addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }))));\n  };\n};\n\nexport default App;","map":{"version":3,"sources":["/home/tonganh/intern/React/react-api/src/App.js"],"names":["React","useEffect","useState","UserTable","AddUserForm","EditUserForm","axios","api","create","baseURL","App","userData","id","name","email","data","setData","editing","setEditing","intialFormState","currentUser","setCurrentUser","editRow","user","users","setUsers","addUser","length","deleteUser","filter","updateUser","map","functionGetData","test","get","then","res","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport UserTable from './UserTable'\nimport AddUserForm from './AddUserForm'\nimport EditUserForm from './EditUserForm'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\n\nconst api = axios.create({\n    baseURL: `https://5d69d9fd6b97ef00145b7643.mockapi.io/api`\n})\nconst App = () => {\n    const userData = [\n        { id: 1, name: 'Tangia', email: 'tangiablalba' },\n        { id: 2, name: 'Tong NgocAnh', email: 'anh.tn184040' },\n        { id: 3, name: 'Vu Thi Mai Nguyet', email: 'lele' },\n\n    ]\n    const [data,setData]=useState([]);\n    // useEffect(()=>\n    // {\n    //     api.get(\"./users\").then(res=>{\n    //         setData(res.data)\n    //         console.log(res.data);\n    //     })\n    // },[])\n   \n    const [editing, setEditing] = useState(false)\n    const intialFormState = { id: '', name: '', email: '' }\n    // Mang trang thai hien tai??\n    const [currentUser, setCurrentUser] = useState(intialFormState)\n    // Cai nay cho chuc nang edit\n    const editRow = (user) => {\n        setEditing(true)\n        setCurrentUser({ id: user.id, name: user.name, email: user.email })\n    }\n    const [users, setUsers] = useState(data)\n    const addUser = (user) => {\n        users.id = users.length + 1\n        setUsers([...users, user])\n    }\n    const deleteUser = (id) => {\n        setUsers(users.filter((user) => user.id !== id))\n        // User duyet lai mang sao cho khong co phan tu id now. Tao ra mang moi. Well 1 cach de xoa phan tu.\n    }\n    const updateUser = (id, updateUser) => {\n        setEditing(false)\n        setUsers(users.map((user) => (user.id === id ? updateUser : user)))\n    }\n    const functionGetData = ()=>\n    {\n        useEffect(()=>\n        {\n           async function test()\n           {\n            await api.get(\"./users\").then(res=>{\n                setData(res.data)\n                console.log(res.data);\n            })\n           }\n           test()\n        },[])\n        return (\n            <div className=\"container parrent\">\n                <h1 className=\"text-center\">CRUD App with Hooks</h1>\n                <div className=\"flex-row\">\n            \n                    <div className=\"flex-large\">\n                        <h2>View users</h2>\n                        {/* Phan bang mac dinh */}\n                        <UserTable users={users} deleteUser={deleteUser} editRow={editRow} />\n                        {/* users o day chinh la mang cac phan tu hien tai.\n                            deleteUser, editUSer la cac ham se can chay tuong\n                            \n                        */}\n                    </div>\n                </div>\n                <div className=\"flex-med\">\n                        {editing ? (\n                            //Return true ->  cho phep edit \n                            <div>\n                                <h2>Edit user</h2>\n                                <EditUserForm setEditing={setEditing} currentUser={currentUser} updateUser={updateUser} />\n                            </div>\n                        ) : (\n                                <div>\n                                    <h2>\n                                        Add user\n                                </h2>\n                                    <AddUserForm addUser={addUser} />\n                                </div>\n                            )\n                        }\n                    </div>\n            </div >\n        )\n    }\n\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}